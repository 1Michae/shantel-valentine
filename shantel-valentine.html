<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine ‚ù§Ô∏è</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=Great+Vibes&display=swap');

        :root {
            --primary-pink: #ff69b4;
            --deep-red: #dc143c;
            --light-pink: #fff0f5;
            --accent-gold: #ffd700;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--light-pink), white);
            font-family: 'Playfair Display', serif;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
        }

        .screen {
            display: none;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        .screen.active {
            display: block;
            opacity: 1;
        }

        h1 {
            font-family: 'Great Vibes', cursive;
            color: var(--deep-red);
            text-align: center;
            font-size: 3rem;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        /* Game Section */
        .game-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            max-width: 600px;
            margin: 2rem auto;
        }

        .card {
            aspect-ratio: 1;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .card-front {
            background: var(--primary-pink);
            transform: rotateY(180deg);
        }

        .card-back {
            background: white;
            border: 2px solid var(--primary-pink);
        }

        /* Essay Section */
        .essay {
            max-width: 700px;
            margin: 0 auto;
            padding: 2rem;
            font-size: 1.2rem;
            color: var(--deep-red);
        }

        .essay p {
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .essay p.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Final Section */
        .proposal {
            text-align: center;
            margin-top: 3rem;
        }

        .btn {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            padding: 1rem 3rem;
            margin: 1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-yes {
            background-color: var(--deep-red);
            color: white;
        }

        .btn-no {
            background-color: var(--light-pink);
            color: var(--deep-red);
            border: 2px solid var(--deep-red);
        }

        .btn:hover {
            transform: scale(1.1);
        }

        /* Decorative Elements */
        .floating-element {
            position: fixed;
            pointer-events: none;
            animation: float 6s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .container {
                padding: 1rem;
            }

            .game-container {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }

            h1 {
                font-size: 2.5rem;
            }

            .essay {
                font-size: 1.1rem;
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcome" class="screen active">
            <h1>Dear Shantel</h1>
            <p style="text-align: center; font-size: 1.2rem;">
                Before I share what's in my heart,<br>
                let's play a little game of love...
            </p>
            <button class="btn btn-yes" onclick="startGame()">Begin</button>
        </div>

        <!-- Game Screen -->
        <div id="game" class="screen">
            <h1>Find the Matching Pairs</h1>
            <div class="game-container" id="gameContainer"></div>
        </div>

        <!-- Essay Screen -->
        <div id="essay" class="screen">
            <h1>My Heart Speaks</h1>
            <div class="essay">
                <p>Dearest Shantel, in the quiet moments when my thoughts wander, they invariably find their way to you. Like the first light of dawn breaking through clouds, you've illuminated my world in ways I never knew possible.</p>
                
                <p>Your presence in my life has been like discovering a garden I never knew existed ‚Äì full of beauty, wonder, and endless possibilities. Each conversation we share adds another flower to this growing paradise.</p>
                
                <p>There's something magical about the way you see the world. Your perspective brings color to grey skies and finds joy in life's simplest moments. Your laughter is a melody that makes my heart dance to a rhythm I never knew it could follow.</p>
                
                <p>In you, I've found someone who understands the unspoken, who sees beauty in the ordinary, and who makes every day feel like an adventure waiting to unfold. Your kindness touches not just my heart, but everyone around you.</p>
                
                <p>Every smile you share lights up the room like stars emerging at twilight. Your strength inspires me, your gentleness moves me, and your authenticity reminds me of what truly matters in life.</p>
                
                <p>Time seems to both stand still and fly by when we're together. In those moments, I find myself collecting memories like precious gems ‚Äì each one unique, each one treasured, each one making me realize how fortunate I am to know you.</p>
                
                <p>You've taught me that love isn't just about grand gestures or perfect moments ‚Äì it's about the quiet understanding, the shared glances, and the comfortable silences we share. It's about feeling completely yourself with someone who appreciates you for exactly who you are.</p>
                
                <p>And so, with my heart full of hope and admiration, I find myself wanting to create more of these moments with you, to share more adventures, to build more memories together...</p>
            </div>
        </div>

        <!-- Final Screen -->
        <div id="final" class="screen">
            <h1>Shantel...</h1>
            <div class="proposal">
                <h2 style="font-size: 2rem; margin-bottom: 2rem;">Will you be my Valentine?</h2>
                <button class="btn btn-yes" onclick="handleResponse(true)">Yes</button>
                <button class="btn btn-no" id="noBtn" onmouseover="moveButton()" onclick="handleResponse(false)">No</button>
            </div>
        </div>
    </div>

    <script>
        // Game Logic
        const emojis = ['üåπ', 'üíñ', 'üíù', 'üïäÔ∏è', 'üíë', 'üíï', 'ü´∂', '‚ù§Ô∏è'];
        const gameCards = [...emojis, ...emojis];
        let flippedCards = [];
        let matchedPairs = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createCard(emoji, index) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-face card-front">${emoji}</div>
                <div class="card-face card-back">üíå</div>
            `;
            card.setAttribute('data-index', index);
            card.setAttribute('data-emoji', emoji);
            card.addEventListener('click', () => flipCard(card));
            return card;
        }

        function startGame() {
            showScreen('game');
            const gameContainer = document.getElementById('gameContainer');
            const shuffledEmojis = shuffleArray(gameCards);
            shuffledEmojis.forEach((emoji, index) => {
                gameContainer.appendChild(createCard(emoji, index));
            });
        }

        function flipCard(card) {
            if (flippedCards.length === 2 || card.classList.contains('flipped')) return;

            card.classList.add('flipped');
            flippedCards.push(card);

            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 1000);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            const match = card1.getAttribute('data-emoji') === card2.getAttribute('data-emoji');

            if (match) {
                matchedPairs++;
                if (matchedPairs === emojis.length) {
                    setTimeout(showEssay, 500);
                }
            } else {
                card1.classList.remove('flipped');
                card2.classList.remove('flipped');
            }

            flippedCards = [];
        }

        // Screen Management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');

            if (screenId === 'essay') {
                animateEssay();
            }
        }

        function showEssay() {
            showScreen('essay');
        }

        function animateEssay() {
            const paragraphs = document.querySelectorAll('.essay p');
            paragraphs.forEach((p, index) => {
                setTimeout(() => {
                    p.classList.add('visible');
                }, index * 2000);
            });
            setTimeout(() => showScreen('final'), (paragraphs.length + 1) * 2000);
        }

        // Final Screen Interactions
        function moveButton() {
            const btn = document.getElementById('noBtn');
            const container = document.querySelector('.container');
            const maxX = container.clientWidth - btn.clientWidth;
            const maxY = container.clientHeight - btn.clientHeight;
            
            btn.style.position = 'absolute';
            btn.style.left = Math.random() * maxX + 'px';
            btn.style.top = Math.random() * maxY + 'px';
        }

        function handleResponse(response) {
            if (response) {
                document.querySelector('.proposal').innerHTML = `
                    <h2 style="font-size: 2.5rem; color: var(--deep-red);">
                        You've made me the happiest person! ‚ù§Ô∏è<br>
                        Thank you, Shantel!
                    </h2>
                `;
                createCelebration();
            }
        }

        function createCelebration() {
            const elements = ['üåπ', 'üíñ', '‚ú®', 'üíù', 'ü´∂'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const element = document.createElement('div');
                    element.className = 'floating-element';
                    element.innerHTML = elements[Math.floor(Math.random() * elements.length)];
                    element.style.left = Math.random() * 100 + 'vw';
                    element.style.top = Math.random() * 100 + 'vh';
                    document.body.appendChild(element);
                    
                    setTimeout(() => element.remove(), 6000);
                }, i * 100);
            }
        }
    </script>
</body>
</html>
